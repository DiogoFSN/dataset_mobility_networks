# Brazil road and waterway connections IBGE 2016

Data on road and waterway connections are available at [this link](https://www.ibge.gov.br/geociencias/organizacao-do-territorio/redes-e-fluxos-geograficos/15794-rodoviarias-e-hidroviarias?=&t=downloads). Containing municipalities not subject to
search: contains a list of municipalities whose links were not raised due to that there is no public transport or that the agents responsible for transport do not correspond to the requirements of regularity necessary for the collection. Also contains a brief description of how transportation is carried out in the municipalities - centrality indexes: contains two tables. The first presents indexes of proximity, intermediation and degree, for the set of municipalities surveyed (5,386), calculated from network analysis using graph theory. The second presents the centrality index and the average cost by time for 244 higher ranking urban centers (from sub-regional centers above), from REGIC 2007. - Database - road and waterway connections 2016: It constitutes the core of the research, containing the pairs of links aggregated between municipalities. Frequencies were aggregated, round trip, as well as redundant sections, for each pair of municipalities connected by transport lines. Considering the costs and minimum travel time.

We provide the networks built from these files in GraphML format, including geographic coordinates and scripts to plot them according to the networks generated in GraphML.
 
### Data organization: 
- input data: In this folder you will find folders called networks, raw data and also a python file which is the code to generate the network in GraphML. In the raw data folder are the data that will be processed to generate the respective network and the data after processing will also be saved and the networks generated in GraphML will be saved in the network folder.

- results: In this folder you will find a folder called metrics. In the metrics folder there will be folders for each network that will be generated: complete graph, hydro weight graph, squeegee weight graph, summed weight graph and each folder will have the appropriate specifications for each type of trip cost, in, out, time. They will have their plots saved in png and xlsx with the travel locations.

- scr: In this folder you will find three python files which are the codes to plot the networks.

### Source code:
- Create network: This code was used in the following libraries os, igraph, pandas, LabelEncoder, matplotlib.pyplot. It loads the files that are in the raw data folder and does the necessary processing on the files, such as eliminating columns and lines that will not be used, filling empty spaces. After that, it generates the appropriate types of networks in GraphML that are saved in the networks folder.

- Plot network: In this code, the following libraries os, igraph, pandas, numpy, matplotlib.pyplot were used and it also imports the net_metrics code. It loads the GraphML file generated by the previous code that was saved in the networks folder, then it goes through each geographic coordinate with the metrics that are made in the net_metrics code to create the layout according to the geographic position of each vertex and finally it saves the graph network in png format in the results folder in each of your graph with its appropriate metric.

- Net metrics: In this code, the following libraries os, igraph, pandas, numpy, path were used and it imports the vulnerability code. In it, each of the metrics are passed with their proper specifications to be inserted in the plot code.

- Vulnerability: In this code, the following time, multiprocessing and Thread libraries were used. It calculates the efficiency of certain networks that will be used in the net metrics code.
